# Session 2025-12-13 #05 - Audit players_impact_dna.json

## Contexte
Suite Session #04 - Investigation du "bug MVP Liverpool" (Gakpo au lieu de Salah).
Philosophie appliquée: "Les données dictent le profil, pas la réputation"

## Réalisé

### 1. Audit Complet players_impact_dna.json

**Stats globales:**
- 2324 joueurs dans le fichier
- 108 équipes uniques
- 21 joueurs marqués "Liverpool"

### 2. Découverte Majeure: DONNÉES CORROMPUES

#### Joueurs MAL ASSIGNÉS à Liverpool (5):
| Joueur | Dans DB | Club Réel |
|--------|---------|-----------|
| Florian Wirtz | Liverpool | Bayer Leverkusen |
| Jeremie Frimpong | Liverpool | Bayer Leverkusen |
| Hugo Ekitike | Liverpool | Frankfurt/PSG |
| Alexander Isak | Liverpool | Newcastle |
| Milos Kerkez | Liverpool | Bournemouth |

#### Joueurs Liverpool MANQUANTS (3):
- Luis Diaz - NON TROUVÉ dans toute la base
- Darwin Nunez - NON TROUVÉ dans toute la base
- Diogo Jota - NON TROUVÉ dans toute la base

#### Hypothèse:
Ces joueurs (Wirtz, Frimpong, Isak) sont des **cibles de transfert** rumourées pour Liverpool.
Le fichier semble mixer données actuelles + prédictions mercato.

### 3. Analyse MVP (données valides uniquement)

| Rang | Joueur | Goals | Assists | Total | xG | xA |
|------|--------|-------|---------|-------|-----|-----|
| 1 | Cody Gakpo | 4 | 3 | 7 | 4.6 | 4.4 |
| 2 | Mohamed Salah | 4 | 2 | 6 | 4.3 | 2.5 |
| 3 | Ryan Gravenberch | 3 | 2 | 5 | 0.4 | 1.1 |

**Conclusion:**
- Gakpo > Salah selon les données actuelles (7 > 6 contributions)
- MAIS données incomplètes: Diaz, Nunez, Jota manquent
- Le "bug MVP" n'est pas Gakpo vs Salah, c'est les données corrompues

## Fichiers touchés

### Analysés (non modifiés)
- `/home/Mon_ps/data/quantum_v2/players_impact_dna.json` - Source du problème

## Problèmes identifiés

| Problème | Gravité | Impact |
|----------|---------|--------|
| 5 joueurs mal assignés à Liverpool | HAUTE | Fausse les stats équipe |
| 3 joueurs clés manquants | HAUTE | MVP incomplet |
| Mélange données actuelles/transferts | MOYENNE | Confusion temporelle |

## En cours / À faire

### Priorité Haute
- [ ] Nettoyer players_impact_dna.json (supprimer mal assignés)
- [ ] Régénérer depuis Understat avec équipes correctes
- [ ] Recalculer MVP après nettoyage

### Priorité Moyenne
- [ ] Corriger doc "22 marchés" → 16 marchés
- [ ] Étendre backtest toutes équipes EPL

## Notes techniques

### Structure players_impact_dna.json
```json
{
  "id": "8260",
  "player_name": "Erling Haaland",
  "team": "Manchester City",
  "league": "Premier League",
  "position": "F",
  "games": 15,
  "goals": 15,
  "assists": 3,
  "xG": 14.064,
  "xA": 2.352,
  "npxG": 13.303,
  "xGChain": 15.885,
  "xGBuildup": 2.778,
  "shots": 57,
  "key_passes": 8
}
```

### Top 10 équipes par nombre de joueurs
```
Marseille: 30
Sevilla: 30
Monaco: 28
Lille: 28
Girona: 28
Bologna: 27
Nice: 27
Metz: 27
Real Oviedo: 27
West Ham: 27
```

### Joueurs valides Liverpool (15/21)
- Mohamed Salah, Cody Gakpo, Ryan Gravenberch
- Dominik Szoboszlai, Federico Chiesa, Alexis Mac Allister
- Virgil van Dijk, Andrew Robertson, Ibrahima Konaté
- Curtis Jones, Conor Bradley, Joseph Gomez
- Alisson, Wataru Endo, Giorgi Mamardashvili

## Durée Session
~15 minutes

## Pas de commit Git
Session d'audit uniquement, pas de modifications de code.
